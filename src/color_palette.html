<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <!--    <link rel="icon" type="image/svg+xml" href="/vite.svg" />-->
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <meta content="#ce0000" name="theme-color">
    <meta content="Red DF | Color Palette" name="title">
    <meta content="Updated color palette with click to copy" name="description">
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <link href="./style.css" rel="stylesheet">
    <title>Red DF</title>
</head>
<body class="bg-gray-950 text-white">
<nav class="bg-gray-800">
    <div class="max-w-7xl px-2 sm:px-6 lg:px-8">
        <div class="relative flex h-16 items-center justify-between">
            <div class="flex flex-1 items-stretch justify-start">
                <div class="ml-6">
                    <div class="flex space-x-4">
                        <a class="nav-item" href="/public">Home</a>
                        <a class="nav-item nav-selected-item" href="#">Color Palette</a>
                        <a class="nav-item" href="#">Template Splitter</a>
                        <a class="nav-item" href="/text_file_to_template">Text File to Template</a>
                        <a class="nav-item" href="#">Skin Pixel Art Generator</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</nav>

<main>
    <header>
        <h1>Color Palette</h1>
        <h2>Updated DiamondFire color palette</h2>
    </header>

    <section class="flex flex-col justify-center items-center">
        <h2 id="palette-status">Click on a color to copy it</h2>
        <div id="palette-container">
        </div>
        <input class="size-8 mt-3 -mb-3" id="copyTag" type="checkbox">
        <label for="copyTag">Copy MiniMessage Tag</label>
    </section>

</main>

<script src="./main.js" type="module"></script>
<script type="module">
    function hexToRgb(hex) {
        const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
        return result ? {
            r: parseInt(result[1], 16),
            g: parseInt(result[2], 16),
            b: parseInt(result[3], 16)
        } : null;
    }

    const COLOR_NAMES = [
        "RED", "SCARLET", "ORANGE", "GOLD", "MUSTARD", "YELLOW", "LIME", "GREEN", "TEAL", "AQUA", "SKY", "BLUE", "PURPLE", "AMETHYST", "MAGENTA", "PINK", "ROSE", "BROWN", "GRAY"
    ]
    const COLOR_SHADES = [
        "DARK_4", "DARK_3", "DARK_2", "DARK", "NEUTRAL", "LIGHT", "LIGHT_2", "LIGHT_3"
    ]

    class Color {
        constructor(hex, group, shade, override) {
            this.hex = hex;
            this.group = group
            this.shade = COLOR_SHADES[shade + 4];
            if (override) this.override = override;
        }
    }

    // <editor-fold defaultstate="collapsed" desc="> Colors">
    const COLORS = [
        new Color("#550000", "RED", -2),
        new Color("#AA0000", "RED", -1),
        new Color("#FF0000", "RED", 0),
        new Color("#FF5555", "RED", 1),
        new Color("#FFAAAA", "RED", 2),
        new Color("#FFD4D4", "RED", 3),
        new Color("#AA002A", "SCARLET", -1),
        new Color("#FF2A00", "SCARLET", 0),
        new Color("#FF7F7F", "SCARLET", 1),
        new Color("#D42A00", "ORANGE", -1),
        new Color("#FF5500", "ORANGE", 0),
        new Color("#FF7F55", "ORANGE", 1),
        new Color("#FFAA7F", "ORANGE", 2),
        new Color("#7F2A00", "GOLD", -2),
        new Color("#AA5500", "GOLD", -1),
        new Color("#FFAA00", "GOLD", 0),
        new Color("#FFD47F", "GOLD", 1),
        new Color("#AA7F00", "MUSTARD", -2),
        new Color("#D4AA2A", "MUSTARD", -1),
        new Color("#FFD42A", "MUSTARD", 0),
        new Color("#7F7F2A", "YELLOW", -3),
        new Color("#AAAA55", "YELLOW", -2),
        new Color("#D4D455", "YELLOW", -1),
        new Color("#FFFF55", "YELLOW", 0),
        new Color("#FFFFAA", "YELLOW", 1),
        new Color("#FFFFD4", "YELLOW", 2),
        new Color("#55AA00", "LIME", -2),
        new Color("#7FD42A", "LIME", -1),
        new Color("#AAFF55", "LIME", 0),
        new Color("#005500", "GREEN", -4),
        new Color("#2A7F00", "GREEN", -3),
        new Color("#00AA00", "GREEN", -2),
        new Color("#2AD42A", "GREEN", -1),
        new Color("#55FF55", "GREEN", 0),
        new Color("#7FFF7F", "GREEN", 1),
        new Color("#AAFFAA", "GREEN", 2),
        new Color("#D4FFD4", "GREEN", 3),
        new Color("#00D4AA", "TEAL", -1),
        new Color("#2AFFAA", "TEAL", 0),
        new Color("#7FFFD4", "TEAL", 1),
        new Color("#005555", "AQUA", -3),
        new Color("#007F7F", "AQUA", -2),
        new Color("#00AAAA", "AQUA", -1),
        new Color("#2AD4D4", "AQUA", 0),
        new Color("#55FFFF", "AQUA", 1),
        new Color("#AAFFFF", "AQUA", 2),
        new Color("#D4FFFF", "AQUA", 3),
        new Color("#2A70D4", "SKY", -1),
        new Color("#55AAFF", "SKY", 0),
        new Color("#AAD4FF", "SKY", 1),
        new Color("#000055", "BLUE", -3),
        new Color("#0000AA", "BLUE", -2),
        new Color("#5500FF", "BLUE", -1),
        new Color("#5555FF", "BLUE", 0),
        new Color("#7070FF", "BLUE", 1),
        new Color("#AAAAFF", "BLUE", 2),
        new Color("#D4D4FF", "BLUE", 3),
        new Color("#2A007F", "PURPLE", -3),
        new Color("#5500AA", "PURPLE", -2),
        new Color("#7F2AD4", "PURPLE", -1),
        new Color("#AA55FF", "PURPLE", 0),
        new Color("#AA7FFF", "PURPLE", 1),
        new Color("#D4AAFF", "PURPLE", 2),
        new Color("#7F00AA", "AMETHYST", -1),
        new Color("#AA00D4", "AMETHYST", 0),
        new Color("#D400FF", "AMETHYST", 1),
        new Color("#550055", "MAGENTA", -3),
        new Color("#7F007F", "MAGENTA", -2),
        new Color("#AA00AA", "MAGENTA", -1),
        new Color("#D42AD4", "MAGENTA", 0),
        new Color("#FF55FF", "MAGENTA", 1),
        new Color("#FFAAFF", "MAGENTA", 2),
        new Color("#FFD4FF", "MAGENTA", 3),
        new Color("#D5007F", "PINK", -2),
        new Color("#FF00AA", "PINK", -1),
        new Color("#FF55AA", "PINK", 0),
        new Color("#FF7FD4", "PINK", 1),
        new Color("#FF0055", "ROSE", -2),
        new Color("#FF557F", "ROSE", -1),
        new Color("#FF7FAA", "ROSE", 0),
        new Color("#FFAAD4", "ROSE", 1),
        new Color("#552A00", "BROWN", -2),
        new Color("#80552A", "BROWN", -1),
        new Color("#AA8055", "BROWN", 0),
        new Color("#D4AA80", "BROWN", 1),
        new Color("#FFD4AA", "BROWN", 2),
        new Color("#000000", "GRAY", -3, "BLACK"),
        new Color("#2A2A2A", "GRAY", -2),
        new Color("#555555", "GRAY", -1),
        new Color("#808080", "GRAY", 0),
        new Color("#AAAAAA", "GRAY", 1),
        new Color("#D4D4D4", "GRAY", 2),
        new Color("#FFFFFF", "GRAY", 3, "WHITE"),
    ]
    // </editor-fold>

    const paletteContainer = document.getElementById("palette-container");
    COLOR_NAMES.forEach(color => {
        COLOR_SHADES.forEach(shade => {
            const colorObj = COLORS.find(c => c.group === color && c.shade === shade);
            if (!colorObj) return;
            const div = document.createElement("div");
            div.classList.add("palette-color");
            div.style.setProperty("--color", colorObj.hex);
            div.style.setProperty("--color-name", colorObj.override ? colorObj.override : (colorObj.group + "_" + colorObj.shade).replace("_NEUTRAL", ""));
            div.style.gridRow = COLOR_SHADES.indexOf(shade) + 1;
            div.style.gridColumn = COLOR_NAMES.indexOf(color) + 1;
            paletteContainer.appendChild(div);
        })
    })

    const paletteColors = document.querySelectorAll(".palette-color");
    const statusText = document.getElementById("palette-status");

    paletteColors.forEach(color => {
        color.addEventListener("click", () => {
            const copyTag = document.getElementById("copyTag").checked;

            const hex = color.style.getPropertyValue("--color");
            const rgb = hexToRgb(hex);

            const copy = copyTag ? `<${hex}>` : hex;
            navigator.clipboard.writeText(copy);

            statusText.innerHTML = `Copied <span class="palette-color-text" style="--color: ${hex}">${color.style.getPropertyValue("--color-name")}</span> to clipboard! <i>(${copy})</i>`;
            const paletteColorText = document.querySelector(".palette-color-text");
            paletteColorText.style.color = (0.299 * rgb.r + 0.587 * rgb.g + 0.114 * rgb.b) / 255 > 0.5 ? "black" : "white";

        })
    })
</script>
</body>
</html>
